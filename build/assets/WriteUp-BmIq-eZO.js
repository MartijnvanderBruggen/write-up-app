import{T as v,k as y,o as n,f as i,b as t,t as f,u as r,g,c as k,w as d,a as m,d as p,e as h,i as b,l as M,F as _,m as C}from"./app-ChM9_gVR.js";import{_ as B,a as $}from"./DropdownLink-D2ebbFhW.js";import{_ as T}from"./InputError-BUYU4kJ_.js";import{P as j}from"./PrimaryButton-Bfa72YcF.js";import{d as w,r as N}from"./relativeTime-DLeb5gBC.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"p-6 flex space-x-2"},L={class:"flex-1"},S={class:"flex justify-between items-center"},D={class:"text-gray-800"},E={class:"ml-2 text-sm text-gray-600"},U={key:0,class:"text-sm text-gray-600"},W={class:"space-x-2"},F=["innerHTML"],H={class:"flex w-full justify-normal justify-items-center"},I=["src"],P={__name:"WriteUp",props:["writeup"],setup(s){w.extend(N);const c=s,o=v({content:c.writeup.content,images:c.writeup.images}),u=y(!1),x=l=>{console.log(l)};return(l,e)=>(n(),i("div",z,[e[7]||(e[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600 -scale-x-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),t("div",L,[t("div",S,[t("div",null,[t("span",D,f(s.writeup.user.name),1),t("small",E,f(r(w)(s.writeup.created_at).fromNow()),1),s.writeup.created_at!==s.writeup.updated_at?(n(),i("small",U," Â· edited")):g("",!0)]),s.writeup.user.id===l.$page.props.auth.user.id?(n(),k($,{key:0},{trigger:d(()=>e[4]||(e[4]=[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])],-1)])),content:d(()=>[t("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:e[0]||(e[0]=a=>u.value=!0)}," Edit "),m(B,{as:"button",href:l.route("writeups.destroy",s.writeup.id),method:"delete"},{default:d(()=>e[5]||(e[5]=[p(" Delete ")])),_:1},8,["href"])]),_:1})):g("",!0)]),u.value?(n(),i("form",{key:0,onSubmit:e[3]||(e[3]=h(a=>r(o).put(l.route("writeups.update",s.writeup.id),{onSuccess:()=>u.value=!1}),["prevent"]))},[b(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r(o).content=a),class:"mt-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[M,r(o).content]]),m(T,{message:r(o).errors.message,class:"mt-2"},null,8,["message"]),t("div",W,[m(j,{class:"mt-4"},{default:d(()=>e[6]||(e[6]=[p("Save")])),_:1}),t("button",{class:"mt-4",onClick:e[2]||(e[2]=a=>{u.value=!1,r(o).reset(),r(o).clearErrors()})},"Cancel")])],32)):(n(),i("p",{key:1,innerHTML:s.writeup.content,class:"mt-4 text-lg text-gray-900 writeup-content"},null,8,F)),t("p",H,[(n(!0),i(_,null,C(r(o).images,a=>(n(),i("img",{key:a.id,src:a.image_path,onClick:x,class:"flex-1 w-32 border border-b-emerald-400"},null,8,I))),128))])])]))}},Q=V(P,[["__scopeId","data-v-c9e95945"]]);export{Q as W};
