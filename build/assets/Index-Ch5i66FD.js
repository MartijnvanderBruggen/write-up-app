import{T as v,k as M,o as l,f as m,b as e,t as g,u as t,g as f,c as w,w as u,a as n,d as p,e as y,i as b,l as k,F as h,Z as _,m as B}from"./app-ChM9_gVR.js";import{_ as S}from"./AuthenticatedLayout-BupWwsRY.js";import{_ as $}from"./InputError-BUYU4kJ_.js";import{P as C}from"./PrimaryButton-Bfa72YcF.js";import{_ as V,a as N}from"./DropdownLink-D2ebbFhW.js";import{d as x,r as z}from"./relativeTime-DLeb5gBC.js";import"./ApplicationLogo-X2AUPJUz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"p-6 flex space-x-2"},j={class:"flex-1"},D={class:"flex justify-between items-center"},E={class:"text-gray-800"},F={class:"ml-2 text-sm text-gray-600"},L={key:0,class:"text-sm text-gray-600"},P={class:"space-x-2"},U={key:1,class:"mt-4 text-lg text-gray-900"},I={__name:"Chirp",props:["chirp"],setup(r){x.extend(z);const i=v({message:r.chirp.message}),o=M(!1);return(a,s)=>(l(),m("div",T,[s[7]||(s[7]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-600 -scale-x-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),e("div",j,[e("div",D,[e("div",null,[e("span",E,g(r.chirp.user.name),1),e("small",F,g(t(x)(r.chirp.created_at).fromNow()),1),r.chirp.created_at!==r.chirp.updated_at?(l(),m("small",L," Â· edited")):f("",!0)]),r.chirp.user.id===a.$page.props.auth.user.id?(l(),w(N,{key:0},{trigger:u(()=>s[4]||(s[4]=[e("button",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])],-1)])),content:u(()=>[e("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:s[0]||(s[0]=c=>o.value=!0)}," Edit "),n(V,{as:"button",href:a.route("chirps.destroy",r.chirp.id),method:"delete"},{default:u(()=>s[5]||(s[5]=[p(" Delete ")])),_:1},8,["href"])]),_:1})):f("",!0)]),o.value?(l(),m("form",{key:0,onSubmit:s[3]||(s[3]=y(c=>t(i).put(a.route("chirps.update",r.chirp.id),{onSuccess:()=>o.value=!1}),["prevent"]))},[b(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=c=>t(i).message=c),class:"mt-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[k,t(i).message]]),n($,{message:t(i).errors.message,class:"mt-2"},null,8,["message"]),e("div",P,[n(C,{class:"mt-4"},{default:u(()=>s[6]||(s[6]=[p("Save")])),_:1}),e("button",{class:"mt-4",onClick:s[2]||(s[2]=c=>{o.value=!1,t(i).reset(),t(i).clearErrors()})},"Cancel")])],32)):(l(),m("p",U,g(r.chirp.message),1))])]))}},W={class:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8"},Z={class:"mt-6 bg-white shadow-sm rounded-lg divide-y"},R={__name:"Index",props:["chirps"],setup(r){const d=v({message:""});return(i,o)=>(l(),m(h,null,[n(t(_),{title:"Chirps"}),n(S,null,{default:u(()=>[e("div",W,[e("form",{onSubmit:o[1]||(o[1]=y(a=>t(d).post(i.route("chirps.store"),{onSuccess:()=>t(d).reset()}),["prevent"]))},[b(e("textarea",{"onUpdate:modelValue":o[0]||(o[0]=a=>t(d).message=a),placeholder:"What's on your mind?",class:"block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[k,t(d).message]]),n($,{message:t(d).errors.message,class:"mt-2"},null,8,["message"]),n(C,{class:"mt-4"},{default:u(()=>o[2]||(o[2]=[p("Chirp")])),_:1})],32),e("div",Z,[(l(!0),m(h,null,B(r.chirps,a=>(l(),w(I,{key:a.id,chirp:a},null,8,["chirp"]))),128))])])]),_:1})],64))}};export{R as default};
